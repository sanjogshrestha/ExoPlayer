apply plugin: 'com.android.library'
apply plugin: 'maven-publish'
apply plugin: 'maven'

android {
    compileSdkVersion 24
    buildToolsVersion "23.0.3"

    defaultConfig {
        minSdkVersion 9
        targetSdkVersion 24
    }

    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.txt'
        }
    }

    lintOptions {
        abortOnError false
    }
}

dependencies {
    androidTestCompile 'com.google.dexmaker:dexmaker:1.2'
    androidTestCompile 'com.google.dexmaker:dexmaker-mockito:1.2'
    androidTestCompile 'org.mockito:mockito-core:1.9.5'
}

uploadArchives {
    repositories.mavenDeployer {
        configuration = configurations.default
        repository(url: 'http://nexus.rd.yinyuetai.com/content/repositories/releases') {//仓库地址
            authentication(userName: "deployment",//用户名
                    password: "deployment")//密码
        }

        pom.project {
            packaging 'aar'
            groupId 'com.yinyuetai.android.lib'
            artifactId "exo-player" //LibA
            version '1.0.3'
        }
    }
}
